<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®°è´¦Appç­›é€‰å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è‡ªå®šä¹‰æ ·å¼ */
        body {
            font-family: 'Inter', sans-serif; /* ä½¿ç”¨ Inter å­—ä½“ */
        }
        /* å“åº”å¼è®¾è®¡ï¼šå°å±å¹•ä¸‹å•åˆ—æ˜¾ç¤º */
        @media (max-width: 768px) {
            #filter-container > div {
                flex-basis: 100%;
            }
            #results-container > div.result-item { /* ç¡®ä¿ç»“æœé¡¹ä¹Ÿå“åº” */
                flex-basis: 100%;
            }
            /* å°å±å¹•ä¸‹æŒ‰é’®å’Œä¸‹æ‹‰èœå•å±…ä¸­ */
            .action-bar {
               flex-direction: column;
               align-items: center;
            }
            .action-bar > div {
                margin-bottom: 1rem; /* åœ¨ä¸‹æ‹‰èœå•å’ŒæŒ‰é’®ä¹‹é—´å¢åŠ é—´è· */
            }
             .action-bar button {
                width: 100%; /* æŒ‰é’®å®½åº¦å æ»¡ */
            }
        }
        /* æŒ‰é’®æ‚¬åœæ•ˆæœ */
        button:hover {
            opacity: 0.9;
        }
        /* é€‰ä¸­æŒ‰é’®æ ·å¼ */
        .selected {
            background-color: #3b82f6 !important; /* Tailwind blue-500 */
            color: white !important;
            border-color: #3b82f6 !important;
        }
        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #374151; /* gray-700 */
        }
        .filter-options button {
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.375rem; /* rounded-md */
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
            background-color: #f9fafb; /* gray-50 */
            color: #374151; /* gray-700 */
        }
        .filter-options button.must-have:hover { background-color: #dbeafe; border-color: #93c5fd; } /* blue-100, blue-300 */
        .filter-options button.nice-to-have:hover { background-color: #d1fae5; border-color: #6ee7b7; } /* green-100, green-300 */
        .filter-options button.must-not-have:hover { background-color: #fee2e2; border-color: #fca5a5; } /* red-100, red-300 */
        .filter-options button.dont-care:hover { background-color: #e5e7eb; border-color: #9ca3af; } /* gray-200, gray-400 */

        .filter-options button.must-have.selected { background-color: #2563eb; border-color: #2563eb; color: white; } /* blue-600 */
        .filter-options button.nice-to-have.selected { background-color: #059669; border-color: #059669; color: white; } /* green-600 */
        .filter-options button.must-not-have.selected { background-color: #dc2626; border-color: #dc2626; color: white; } /* red-600 */
        .filter-options button.dont-care.selected { background-color: #6b7280; border-color: #6b7280; color: white; } /* gray-500 */

        #results-container h3 {
            /* margin-top: 1rem; */ /* ç”±çˆ¶çº§divæ§åˆ¶ */
            margin-bottom: 0.25rem; /* å‡å°‘å’Œä¸‹æ–¹å†…å®¹çš„é—´è· */
            font-size: 1.125rem; /* text-lg */
            font-weight: 600;
        }
         #results-container div.result-item { /* ç»™ç»“æœé¡¹æ·»åŠ ç‰¹å®šç±»åä»¥åŒºåˆ† */
            background-color: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); /* shadow-md */
            border: 1px solid #e5e7eb; /* gray-200 */
         }
         #results-container span.app-name { /* ç‰¹å®šç±»åç”¨äºAppåç§° */
            font-weight: bold;
            color: #1e40af; /* blue-800 */
         }
         #results-container p.score-text { /* ç‰¹å®šç±»åç”¨äºåˆ†æ•°æ–‡æœ¬ */
            margin-top: 0.1rem; /* å‡å°‘ä¸æ ‡é¢˜çš„é—´è· */
            margin-bottom: 0.1rem; /* å‡å°‘ä¸ä¸‹æ–¹å†…å®¹çš„é—´è· */
            color: #4b5563; /* gray-600 */
         }
         .paid-feature {
             color: #b45309; /* amber-700 */
             font-style: italic;
             font-size: 0.875rem; /* text-sm */
         }
         .yes-feature {
            color: #059669; /* green-600 */
            font-weight: bold;
         }
        .no-feature {
            color: #dc2626; /* red-600 */
        }
        /* ä»˜è´¹/å¹¿å‘Šæƒ…å†µæ ·å¼ */
        .pricing-info {
            margin-top: 0.25rem;
            margin-bottom: 0.5rem; /* å’Œè¯¦æƒ…å±•å¼€ä¿æŒè·ç¦» */
        }
        .pricing-free { color: #059669; /* green-600 */ font-weight: 500; }
        .pricing-ads { color: #ca8a04; /* yellow-600 */ font-weight: 500; }
        .pricing-paid { color: #ea580c; /* orange-600 */ font-weight: 500; }
        .pricing-paid-ads { color: #dc2626; /* red-600 */ font-weight: 500; }


    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="container mx-auto max-w-6xl bg-white rounded-lg shadow-xl p-6 md:p-10">
        <h1 class="text-2xl md:text-3xl font-bold mb-6 text-center text-gray-800">è®°è´¦Appæ™ºèƒ½ç­›é€‰å™¨</h1>
        <p class="text-gray-600 mb-8 text-center">è¯·æ ¹æ®æ‚¨çš„åå¥½é€‰æ‹©å„é¡¹åŠŸèƒ½çš„ä¼˜å…ˆçº§ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨ç­›é€‰å‡ºæœ€åˆé€‚çš„è®°è´¦Appã€‚</p>
        <p class="text-gray-600 mb-8 text-center">æ•°æ®æ¥æºï¼š<a href="https://meta.appinn.net/t/topic/70530">åäºŒæ¨ªè¯„-å®‰å“ä¸ªäººè®°è´¦appå¤§æ¨ªè¯„</a></p>
        <h2 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">ç­›é€‰æ¡ä»¶</h2>
        <div id="filter-container" class="space-y-6">
            </div>

        <div class="action-bar mt-8 mb-6 flex flex-col md:flex-row justify-between items-center">
             <div class="mb-4 md:mb-0">
                <label for="results-count" class="block text-sm font-medium text-gray-700 mb-1">æ˜¾ç¤ºç»“æœæ•°é‡:</label>
                <select id="results-count" name="results-count" class="mt-1 block w-full md:w-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                    <option value="3">Top 3</option>
                    <option value="5">Top 5</option>
                    <option value="10" selected>Top 10</option>
                    <option value="999">æ‰€æœ‰ç¬¦åˆæ¡ä»¶</option>
                </select>
            </div>
            <button id="filter-button" class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out">
                å¼€å§‹ç­›é€‰
            </button>
        </div>

        <h2 class="text-xl font-semibold mt-10 mb-4 text-gray-700 border-b pb-2">ç­›é€‰ç»“æœ</h2>
        <div id="results-container" class="mt-6">
            <p class="text-gray-500">è¯·é€‰æ‹©ç­›é€‰æ¡ä»¶åç‚¹å‡»â€œå¼€å§‹ç­›é€‰â€æŒ‰é’®ã€‚</p>
            </div>
    </div>

    <script>
        // --- æ•°æ®å®šä¹‰ ---
        // ä»CSVè§£æçš„æ•°æ® (æ³¨æ„ï¼šä¸ºäº†ç®€åŒ–ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨äº†å¤„ç†åçš„JSONæ ¼å¼)
        // 'æ˜¯' -> yes, 'å¦'/'ç©ºç™½' -> no, 'ä»˜è´¹'/'æ˜¯(ä»˜è´¹)'/'ä»˜è´¹(...)' -> paid, å…¶ä»–ç‰¹æ®Šè¯´æ˜ -> specific
        const appData = {
            "åŠŸèƒ½": ["è´¢å°èœœ", "æŒ–è´¢è®°è´¦", "éšæ‰‹è®°ï¼ˆéšæ‰‹è®°è´¦æœ¬ï¼‰", "éšæ‰‹è®°ï¼ˆç¥è±¡äº‘è´¦æœ¬ï¼‰", "Timiè®°è´¦", "å£è¢‹è®°è´¦", "æœ‰é±¼è®°è´¦", "é²¨é±¼è®°è´¦", "é’±è¿¹", "è–„è·è®°è´¦", "ä¸€ç¾½è®°è´¦", "ä¸€æœ¨è®°è´¦", "å°æ˜Ÿè®°è´¦", "æé€Ÿè®°è´¦", "Toshlè´¢åŠ¡ç®¡ç†", "Money Lover", "å¿«æ·è®°è´¦ï¼ˆMoney Managerï¼‰", "Bluecoins"],
            "è®°è´¦æ–¹å¼ - æ¨¡æ¿è®°è´¦": ["no", "yes", "yes", "yes", "no", "no", "no", "paid", "no", "no", "paid", "paid", "no", "no", "no", "no", "no", "no"],
            "è®°è´¦æ–¹å¼ - å‘¨æœŸè®°è´¦": ["paid", "yes", "no", "yes", "no", "yes", "yes", "paid", "yes", "yes", "paid", "paid", "paid", "no", "yes", "paid", "yes", "yes"],
            "è®°è´¦æ–¹å¼ - æ–‡å­—æ™ºèƒ½è®°è´¦": ["paid", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "paid", "no", "no", "no", "no", "no", "no"],
            "è®°è´¦æ–¹å¼ - è¯­éŸ³è®°è´¦": ["no", "no", "no", "yes", "no", "no", "no", "yes", "no", "no", "paid", "paid", "no", "no", "no", "no", "no", "no"],
            "è®°è´¦æ–¹å¼ - ç¥¨æ®è¯†åˆ«è®°è´¦(æˆªå›¾)": ["no", "no", "no", "paid", "no", "no", "no", "no", "paid", "paid", "paid", "paid", "no", "no", "no", "no", "no", "no"],
            "è®°è´¦æ–¹å¼ - æ— éšœç¢/è‡ªåŠ¨è®°è´¦": ["no", "no", "no", "no", "no", "no", "no", "no", "yes", "paid", "paid", "paid", "paid", "no", "no", "no", "no", "paid"],
            "è®°è´¦åŠŸèƒ½ - äºŒçº§è´¦å•åˆ†ç±»": ["yes", "yes", "yes", "yes", "no", "no", "yes", "no", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "yes", "yes"],
            "è®°è´¦åŠŸèƒ½ - ä¸€çº§è´¦å•åˆ†ç±»": ["yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"],
            "è®°è´¦åŠŸèƒ½ - æ·»åŠ è´¦æˆ·": ["yes", "yes", "yes", "yes", "no", "yes", "yes", "paid", "yes", "yes", "yes", "yes", "yes", "no", "yes", "yes", "yes", "yes"],
            "è®°è´¦åŠŸèƒ½ - æ·»åŠ å¤‡æ³¨": ["yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"],
            "è®°è´¦åŠŸèƒ½ - æ·»åŠ æ ‡ç­¾(ä¸€çº§)": ["yes", "yes", "yes", "paid", "no", "no", "yes", "paid", "yes", "yes", "yes", "paid", "paid", "no", "yes", "paid", "no", "yes"],
            "è®°è´¦åŠŸèƒ½ - æ·»åŠ ç…§ç‰‡æˆ–é™„ä»¶": ["yes", "paid", "yes", "yes", "no", "yes", "paid", "paid", "paid", "paid", "paid", "paid", "paid", "paid", "yes", "paid", "yes", "yes"],
            "è®°è´¦åŠŸèƒ½ - æ·»åŠ è§’è‰²": ["yes", "yes", "yes", "yes", "no", "yes", "yes", "no", "yes", "no", "no", "yes", "yes", "no", "no", "no", "no", "no"],
            "è®°è´¦åŠŸèƒ½ - æ·»åŠ æ‰‹ç»­è´¹/åˆ©æ¯/ä¼˜æƒ ": ["paid", "no", "no", "no", "no", "no", "no", "no", "yes", "paid", "paid", "yes", "yes", "no", "no", "yes", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è®°è´¦åŠŸèƒ½ - æ˜¾ç¤ºåˆ†ç±»é€‰æ‹©å™¨": ["yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è®°è´¦åŠŸèƒ½ - æ™ºèƒ½é¢„é€‰": ["no", "yes", "no", "no", "no", "no", "no", "yes", "yes", "no", "yes", "yes", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è®°è´¦åŠŸèƒ½ - è‡ªå¸¦è®¡ç®—å™¨": ["yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"],
            "è®°è´¦åŠŸèƒ½ - å¯é€‰ä¸è®¡å…¥æ”¶æ”¯": ["yes", "no", "no", "no", "no", "no", "yes", "no", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - ä¿¡ç”¨å¡è´¦æˆ·": ["yes", "yes", "yes", "yes", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "yes", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - è®¾ç½®ä¿¡ç”¨å¡é¢åº¦": ["yes", "yes", "no", "no", "no", "yes", "yes", "no", "yes", "yes", "yes", "yes", "yes", "no", "yes", "no", "no", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - è®¾ç½®ä¿¡ç”¨å¡å‡ºè´¦æ—¥": ["yes", "yes", "no", "yes", "no", "yes", "yes", "no", "yes", "yes", "yes", "yes", "yes", "no", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - è®¾ç½®ä¿¡ç”¨å¡è¿˜æ¬¾æ—¥": ["yes", "yes", "no", "yes", "no", "yes", "yes", "no", "yes", "yes", "yes", "yes", "yes", "no", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - ä¿¡ç”¨å¡è´¦å•åˆ†æœŸ": ["no", "no", "no", "no", "no", "no", "no", "no", "yes", "paid", "paid", "paid", "yes", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - å€Ÿè´·è´¦æˆ·": ["paid", "yes", "yes", "yes", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - æŠ•èµ„è´¦æˆ·": ["yes", "yes", "specific", "specific", "no", "specific", "yes", "yes", "yes", "paid", "yes", "specific", "yes", "no", "no", "no", "yes", "yes"], // 'specific' è¡¨ç¤ºç‰¹æ®Šå¤„ç†æˆ–éæ ‡å‡† 'yes'
            "è´¦æˆ· - å›ºå®šæ”¶ç›Šç†è´¢è´¦æˆ·": ["no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - å›ºå®šèµ„äº§è´¦æˆ·": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "è´¦æˆ· - å¤šå¸ç§": ["yes", "yes", "yes", "yes", "no", "specific", "no", "no", "yes", "yes", "yes", "yes", "yes", "no", "yes", "yes", "yes", "yes"],
            "è´¦æˆ· - æ·»åŠ å¤‡æ³¨(è´¦æˆ·)": ["yes", "yes", "yes", "yes", "no", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "yes", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç»Ÿè®¡ - æ”¶/æ”¯/ç»“ä½™èµ°åŠ¿": ["yes", "yes", "no", "yes", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "yes", "no", "yes"],
            "ç»Ÿè®¡ - æ”¶/æ”¯å æ¯”": ["yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"],
            "ç»Ÿè®¡ - èµ„äº§èµ°åŠ¿": ["no", "no", "no", "yes", "no", "no", "yes", "yes", "paid", "paid", "yes", "yes", "yes", "no", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç»Ÿè®¡ - é«˜çº§ç­›é€‰": ["yes", "paid", "specific", "no", "no", "no", "yes", "paid", "specific", "paid", "yes", "paid", "paid", "yes", "specific", "yes", "yes", "yes"],
            "ç»Ÿè®¡ - æ—¥å†è§†å›¾": ["paid", "yes", "no", "yes", "no", "yes", "yes", "paid", "yes", "yes", "yes", "yes", "paid", "yes", "no", "no", "no", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - å®‰å…¨ä¿æŠ¤": ["specific", "specific", "specific", "specific", "no", "specific", "no", "no", "specific", "specific", "specific", "specific", "specific", "specific", "specific", "specific", "specific", "specific"], // å®‰å…¨æ–¹å¼å¤šæ ·ï¼Œç®€åŒ–å¤„ç†
            "æ‚é¡¹ - å¯å®Œå…¨ç¦»çº¿ä½¿ç”¨": ["no", "no", "yes", "no", "specific", "specific", "no", "yes", "specific", "yes", "yes", "specific", "yes", "yes", "specific", "specific", "yes", "yes"],
            "æ‚é¡¹ - äº‘åŒæ­¥(å¼€å‘å•†)": ["paid", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "paid", "paid", "no", "yes", "yes", "yes", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - äº‘åŒæ­¥(ç¬¬ä¸‰æ–¹)": ["no", "no", "yes", "paid", "no", "no", "yes", "no", "no", "paid", "yes", "yes", "paid", "yes", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - å¯¼å…¥è‡ªèº«æ•°æ®": ["no", "yes", "yes", "no", "no", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - å¯¼å…¥å…¶ä»–APPæ•°æ®": ["paid", "yes", "no", "specific", "paid", "no", "no", "yes", "yes", "yes", "yes", "yes", "yes", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - å¯¼å‡ºExcel/CSV": ["yes", "paid", "paid", "paid", "paid", "specific", "paid", "paid", "paid", "yes", "yes", "yes", "yes", "no", "paid", "paid", "yes", "paid"],
            "æ‚é¡¹ - å¯¼å‡ºè‡ªèº«æ ¼å¼": ["no", "yes", "yes", "no", "no", "no", "no", "no", "no", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - è‡ªåŠ¨å¯¼å‡º": ["no", "no", "yes", "no", "no", "yes", "no", "no", "no", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - å¯¼å‡ºæ—¶ç­›é€‰": ["no", "specific", "no", "specific", "no", "no", "specific", "specific", "paid", "specific", "specific", "specific", "specific", "no", "specific", "specific", "no", "specific"],
            "æ‚é¡¹ - å¤šè´¦æœ¬": ["paid", "yes", "yes", "yes", "no", "no", "paid", "paid", "paid", "no", "yes", "paid", "paid", "yes", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - å¤šäººå…±åŒä½¿ç”¨": ["no", "yes", "yes", "yes", "no", "no", "paid", "paid", "yes", "paid", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - æŠ¥é”€ç®¡ç†": ["yes", "yes", "specific", "paid", "no", "no", "yes", "no", "yes", "yes", "yes", "yes", "paid", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - é¢„ç®—ç®¡ç†(æ”¯å‡º)": ["paid", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "paid", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"],
            "æ‚é¡¹ - é¢„ç®—ç®¡ç†(æ”¶å…¥)": ["no", "yes", "yes", "yes", "no", "no", "no", "no", "no", "no", "paid", "yes", "no", "yes", "yes", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "æ‚é¡¹ - é¢„ç®—ç®¡ç†(ç»“ä½™)": ["no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "paid", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - åº”ç”¨ä¸»é¢˜": ["paid", "no", "yes", "yes", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - å¤œé—´æ¨¡å¼": ["no", "no", "specific", "yes", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"],
            "ç•Œé¢ - éšç³»ç»Ÿåˆ‡æ¢å¤œé—´æ¨¡å¼": ["no", "no", "yes", "yes", "no", "no", "yes", "no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - è‡ªå®šä¹‰å›¾æ ‡(è´¦å•åˆ†ç±»)": ["paid", "yes", "yes", "yes", "specific", "yes", "yes", "specific", "yes", "yes", "yes", "yes", "yes", "no", "no", "yes", "no", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - è‡ªå®šä¹‰å›¾æ ‡(è´¦æˆ·åˆ†ç±»)": ["paid", "yes", "yes", "yes", "specific", "yes", "yes", "specific", "yes", "no", "no", "yes", "yes", "no", "no", "yes", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - è‡ªå®šä¹‰é¦–é¡µæ˜¾ç¤ºå†…å®¹": ["paid", "yes", "yes", "paid", "no", "no", "no", "no", "yes", "paid", "yes", "yes", "yes", "no", "no", "no", "no", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - è‡ªå®šä¹‰å¯¼èˆªæ ": ["no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "yes"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç•Œé¢ - æ¡Œé¢å°éƒ¨ä»¶": ["no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "paid", "paid", "yes", "yes", "yes", "yes", "yes"],
            "ç•Œé¢ - é€šçŸ¥æ å¿«æ·/ä¿¡æ¯æ˜¾ç¤º": ["no", "no", "no", "no", "no", "no", "no", "specific", "specific", "no", "specific", "specific", "specific", "no", "specific", "specific", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - è½¬è´¦/å€Ÿè´·æ”¯æŒåˆ†ç±»": ["no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - è®°å½•èº«é«˜ä½“é‡ç­‰": ["no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - åŸºé‡‘/è‚¡ç¥¨è´¦æˆ·è®¾ç½®è´¹ç‡": ["no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - å•†å®¶åŠŸèƒ½(æ ‡ç­¾)": ["no", "no", "yes", "yes", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "paid", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - æ“ä½œæ—¥å¿—/å›æ”¶ç«™": ["no", "no", "no", "paid", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - åˆ†è´¦æˆ·é¢„ç®—": ["no", "no", "no", "paid", "no", "no", "no", "no", "no", "no", "no", "specific", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - è´¦æœ¬å°è´¦/ç»“è½¬": ["no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - å›ºå®šæ”¶ç›Šç†è´¢è´¦æˆ·": ["no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - æ™ºèƒ½æ‰‹è¡¨æ”¯æŒ": ["no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - è®°è´¦æ¥å£": ["no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "yes", "paid", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - è´¦å•æ‹†åˆ†åŠŸèƒ½": ["no", "no", "no", "no", "no", "no", "no", "no", "paid", "no", "yes", "paid", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - è‡ªå®šä¹‰è´§å¸ç§ç±»": ["no", "no", "no", "no", "no", "no", "no", "no", "paid", "no", "no", "no", "paid", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - æ‚¬æµ®çª—å¯¹è´¦": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - æŒ‡å®šæœŸé—´é¢„ç®—": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - åº”æ”¶/åº”ä»˜è®¾ç½®": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - ä¸é“¶è¡ŒåŒæ­¥": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "specific", "specific", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - æ—…è¡Œæ¨¡å¼": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no", "yes", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "ç‰¹è‰² - ä¸°å¯Œçš„ç»Ÿè®¡å›¾è¡¨": ["no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "å¹¿å‘Š - å¼€å±å¹¿å‘Š": ["no", "yes", "yes", "yes", "yes", "yes", "yes", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
            "å¹¿å‘Š - åº”ç”¨å†…å¹¿å‘Š": ["no", "yes", "yes", "yes", "yes", "yes", "no", "no", "no", "no", "no", "no", "no", "no", "no", "no", "yes", "no"], // å‡è®¾ç©ºå€¼ä¸ºno
        };

        const features = Object.keys(appData).filter(key => key !== "åŠŸèƒ½");
        const apps = appData["åŠŸèƒ½"];
        const filterContainer = document.getElementById('filter-container');
        const resultsContainer = document.getElementById('results-container');
        const filterButton = document.getElementById('filter-button');
        const resultsCountSelect = document.getElementById('results-count');

        // --- UI ç”Ÿæˆ ---

        // åŠ¨æ€ç”Ÿæˆç­›é€‰é€‰é¡¹
        features.forEach(feature => {
            // è·³è¿‡å¹¿å‘Šç›¸å…³çš„è¡Œï¼Œå› ä¸ºå®ƒä»¬å°†åœ¨ç»“æœä¸­å•ç‹¬æ±‡æ€»æ˜¾ç¤º
            if (feature.startsWith("å¹¿å‘Š -")) {
                return;
            }
            const group = document.createElement('div');
            group.classList.add('filter-group', 'p-4', 'bg-gray-50', 'rounded-lg', 'shadow-sm');
            group.innerHTML = `
                <label class="text-base font-medium text-gray-900">${feature}</label>
                <div class="filter-options mt-2" data-feature="${feature}">
                    <button class="dont-care selected" data-value="dont-care">æ— æ‰€è°“</button>
                    <button class="must-have" data-value="must-have">å¿…é¡»æœ‰ ğŸ‘</button>
                    <button class="nice-to-have" data-value="nice-to-have">åŠ åˆ†é¡¹ âœ¨</button>
                    <button class="must-not-have" data-value="must-not-have">ä¸èƒ½æ¥å— ğŸ‘</button>
                </div>
            `;
            filterContainer.appendChild(group);
        });

        // --- äº‹ä»¶ç›‘å¬ ---

        // ç­›é€‰é€‰é¡¹æŒ‰é’®ç‚¹å‡»äº‹ä»¶ (äº‹ä»¶å§”æ‰˜)
        filterContainer.addEventListener('click', function(event) {
            if (event.target.tagName === 'BUTTON') {
                const buttons = event.target.parentElement.querySelectorAll('button');
                buttons.forEach(btn => btn.classList.remove('selected'));
                event.target.classList.add('selected');
            }
        });

        // ç­›é€‰æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        filterButton.addEventListener('click', () => {
            // 1. è·å–ç”¨æˆ·é€‰æ‹© (æ’é™¤å¹¿å‘Šè¡Œ)
            const userPreferences = {};
            const filterOptionGroups = filterContainer.querySelectorAll('.filter-options');
            filterOptionGroups.forEach(group => {
                const feature = group.getAttribute('data-feature');
                 // ç¡®ä¿ feature å­˜åœ¨ä¸”ä¸æ˜¯å¹¿å‘Šç›¸å…³
                if (feature && !feature.startsWith("å¹¿å‘Š -")) {
                    const selectedButton = group.querySelector('button.selected');
                    if (selectedButton) {
                        userPreferences[feature] = selectedButton.getAttribute('data-value');
                    } else {
                        userPreferences[feature] = 'dont-care'; // é»˜è®¤å€¼
                    }
                }
            });

            // 2. ç­›é€‰å’Œè¯„åˆ†App
            let filteredApps = apps.map((appName, index) => ({ name: appName, score: 0, index: index, meetsCriteria: true, features: {} }));

            // è·å–æ‰€æœ‰éå¹¿å‘ŠåŠŸèƒ½ç‰¹å¾
            const featuresToCheck = features.filter(f => !f.startsWith("å¹¿å‘Š -"));

            featuresToCheck.forEach(feature => {
                const preference = userPreferences[feature];
                if (preference === 'dont-care') return; // ä¸å…³å¿ƒæ­¤åŠŸèƒ½ï¼Œè·³è¿‡

                filteredApps.forEach(app => {
                    if (!app.meetsCriteria) return; // å¦‚æœå·²ä¸æ»¡è¶³æ¡ä»¶ï¼Œè·³è¿‡åç»­æ£€æŸ¥

                    const appFeatureValue = appData[feature][app.index]; // 'yes', 'no', 'paid', 'specific'

                    // è®°å½•è¯¥Appæ­¤åŠŸèƒ½çš„å…·ä½“æƒ…å†µ (ä»…è®°å½•ç”¨æˆ·å…³å¿ƒçš„)
                    if (preference !== 'dont-care') {
                        app.features[feature] = appFeatureValue;
                    }


                    // åº”ç”¨ç­›é€‰é€»è¾‘
                    switch (preference) {
                        case 'must-have':
                            // å¿…é¡»æœ‰ï¼š'yes' æˆ– 'paid' æˆ– 'specific' éƒ½ç®—æœ‰
                            if (appFeatureValue === 'no') {
                                app.meetsCriteria = false;
                            }
                            break;
                        case 'must-not-have':
                            // ä¸èƒ½æ¥å—ï¼š'yes' æˆ– 'paid' æˆ– 'specific' éƒ½ç®—æœ‰ï¼Œåˆ™æ’é™¤
                            if (appFeatureValue !== 'no') {
                                app.meetsCriteria = false;
                            }
                            break;
                        case 'nice-to-have':
                            // åŠ åˆ†é¡¹ï¼š'yes' æˆ– 'paid' æˆ– 'specific' éƒ½åŠ åˆ†
                            if (appFeatureValue !== 'no') {
                                app.score += 1; // æ¯ä¸ªåŠ åˆ†é¡¹åŠ 1åˆ†
                            }
                            break;
                    }
                });
            });

            // ç§»é™¤ä¸æ»¡è¶³ "Must Have" å’Œ "Must Not Have" æ¡ä»¶çš„App
            filteredApps = filteredApps.filter(app => app.meetsCriteria);

            // æŒ‰åˆ†æ•°é™åºæ’åº (åˆ†æ•°ç›¸åŒåˆ™æŒ‰åŸé¡ºåº)
            filteredApps.sort((a, b) => b.score - a.score);

            // 3. æ˜¾ç¤ºç»“æœ
            displayResults(filteredApps, userPreferences);
        });

        // --- ç»“æœæ˜¾ç¤º ---
        function displayResults(filteredApps, preferences) {
            resultsContainer.innerHTML = ''; // æ¸…ç©ºæ—§ç»“æœ

            const maxResults = parseInt(resultsCountSelect.value, 10);
            const appsToShow = filteredApps.slice(0, maxResults);

            if (appsToShow.length === 0) {
                resultsContainer.innerHTML = '<p class="text-gray-500">æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ‰€æœ‰â€œå¿…é¡»æœ‰â€å’Œâ€œä¸èƒ½æ¥å—â€æ¡ä»¶çš„Appã€‚è¯·å°è¯•æ”¾å®½ç­›é€‰æ¡ä»¶ã€‚</p>';
                return;
            }

            appsToShow.forEach((app, rank) => {
                const appElement = document.createElement('div');
                // æ·»åŠ  result-item ç±»
                appElement.classList.add('result-item', 'mb-4', 'p-4', 'rounded-lg');

                // --- è®¡ç®—ä»˜è´¹/å¹¿å‘Šæƒ…å†µ ---
                let hasPaid = false;
                let hasAds = false;
                // æ£€æŸ¥æ‰€æœ‰åŠŸèƒ½ï¼ˆåŒ…æ‹¬æœªåœ¨ç­›é€‰å™¨ä¸­æ˜¾ç¤ºçš„åŠŸèƒ½ï¼Œå¦‚å¹¿å‘Šï¼‰
                features.forEach(feature => {
                    if (appData[feature][app.index] === 'paid') {
                        hasPaid = true;
                    }
                    if ((feature === "å¹¿å‘Š - å¼€å±å¹¿å‘Š" || feature === "å¹¿å‘Š - åº”ç”¨å†…å¹¿å‘Š") && appData[feature][app.index] === 'yes') {
                        hasAds = true;
                    }
                });

                let pricingSummaryText = '';
                let pricingSummaryClass = '';
                if (hasPaid && hasAds) {
                    pricingSummaryText = 'å«ä»˜è´¹åŠŸèƒ½ & å¹¿å‘Š';
                    pricingSummaryClass = 'pricing-paid-ads'; // çº¢
                } else if (hasPaid) {
                    pricingSummaryText = 'å«ä»˜è´¹åŠŸèƒ½';
                    pricingSummaryClass = 'pricing-paid'; // æ©™
                } else if (hasAds) {
                    pricingSummaryText = 'å«å¹¿å‘Š';
                    pricingSummaryClass = 'pricing-ads'; // é»„
                } else {
                    pricingSummaryText = 'å…è´¹';
                    pricingSummaryClass = 'pricing-free'; // ç»¿
                }
                // --- ç»“æŸ è®¡ç®—ä»˜è´¹/å¹¿å‘Šæƒ…å†µ ---


                let featuresHtml = '<ul class="list-disc list-inside mt-2 text-sm space-y-1">';
                // æ˜¾ç¤ºç”¨æˆ·å…³å¿ƒçš„åŠŸèƒ½åŠå…¶çŠ¶æ€
                Object.keys(preferences).forEach(feature => {
                    const preference = preferences[feature];
                    // ç¡®ä¿ feature å­˜åœ¨äº app.features ä¸­ (å³ç”¨æˆ·å…³å¿ƒæ­¤åŠŸèƒ½)
                    if (preference !== 'dont-care' && app.features.hasOwnProperty(feature)) {
                        const value = app.features[feature]; // è·å–å·²è®°å½•çš„åŠŸèƒ½å€¼
                        let valueText = '';
                        let valueClass = '';

                        switch (value) {
                            case 'yes': valueText = 'æ”¯æŒ'; valueClass = 'yes-feature'; break;
                            case 'no': valueText = 'ä¸æ”¯æŒ'; valueClass = 'no-feature'; break;
                            case 'paid': valueText = 'ä»˜è´¹æ”¯æŒ'; valueClass = 'paid-feature'; break;
                            case 'specific': valueText = 'æ”¯æŒ (ç‰¹æ®Š)'; valueClass = 'text-purple-600 font-semibold'; break; // ç‰¹æ®Šæƒ…å†µç”¨ç´«è‰²
                            default: valueText = value || 'æœªçŸ¥'; valueClass = 'text-gray-500'; // å¤„ç†å¯èƒ½çš„undefined
                        }

                         // æ ¹æ®åå¥½é«˜äº®æ˜¾ç¤º
                         let highlightClass = '';
                         if (preference === 'must-have' && value !== 'no') highlightClass = 'bg-blue-100';
                         if (preference === 'nice-to-have' && value !== 'no') highlightClass = 'bg-green-100';
                         // Must-not-have çš„æƒ…å†µä¸ä¼šå‡ºç°åœ¨è¿™é‡Œï¼Œå› ä¸ºå®ƒä»¬å·²ç»è¢«è¿‡æ»¤æ‰äº†
                         // if (preference === 'must-not-have' && value === 'no') highlightClass = 'bg-gray-100';

                        featuresHtml += `<li class="px-2 py-1 rounded ${highlightClass}"><span class="font-medium">${feature}:</span> <span class="${valueClass}">${valueText}</span></li>`;
                    }
                });
                 featuresHtml += '</ul>';


                appElement.innerHTML = `
                    <h3 class="text-lg font-semibold text-blue-700">#${rank + 1}: <span class="app-name">${app.name}</span></h3>
                    <p class="score-text text-sm text-gray-600">è¯„åˆ†: <span class="font-bold text-green-600">${app.score}</span> (åŸºäºåŠ åˆ†é¡¹)</p>
                    <p class="pricing-info text-sm text-gray-500">ä»˜è´¹/å¹¿å‘Šæƒ…å†µ: <span class="${pricingSummaryClass}">${pricingSummaryText}</span></p>
                    ${Object.keys(preferences).some(p => preferences[p] !== 'dont-care') ? `<details class="mt-2 text-sm"><summary class="cursor-pointer text-gray-600 hover:text-gray-800">æ˜¾ç¤ºç›¸å…³åŠŸèƒ½è¯¦æƒ…</summary>${featuresHtml}</details>` : ''}
                `;
                resultsContainer.appendChild(appElement);
            });

            if (filteredApps.length > maxResults && maxResults !== 999) { // å½“é€‰æ‹©â€œæ‰€æœ‰â€æ—¶ä¸æ˜¾ç¤ºæ­¤æç¤º
                 const moreResultsInfo = document.createElement('p');
                 moreResultsInfo.classList.add('text-center', 'text-gray-500', 'mt-4', 'text-sm');
                 moreResultsInfo.textContent = `è¿˜æœ‰ ${filteredApps.length - maxResults} ä¸ªç¬¦åˆæ¡ä»¶çš„Appæœªæ˜¾ç¤ºï¼Œè¯·è°ƒæ•´æ˜¾ç¤ºæ•°é‡æˆ–ç­›é€‰æ¡ä»¶ã€‚`;
                 resultsContainer.appendChild(moreResultsInfo);
            }
        }

        // --- åˆå§‹åŒ– ---
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨ç”Ÿæˆç­›é€‰é€‰é¡¹
        // (è¿™æ®µä»£ç å·²åœ¨ä¸Šé¢å®šä¹‰ï¼Œæ— éœ€é‡å¤)

    </script>

</body>
</html>
